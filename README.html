<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4.1: http://docutils.sourceforge.net/" />
<title>rdfadict</title>
<meta name="date" content="$LastChangedDate$" />
<meta name="author" content="Nathan R. Yergler &lt;nathan&#64;creativecommons.org&gt;" />
<meta name="organization" content="Creative Commons" />
<meta name="copyright" content="2006, Nathan R. Yergler, Creative Commons; licensed to the public under the MIT license." />
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-12-18 01:56:14 +0100 (Sun, 18 Dec 2005) $
:Revision: $Revision: 4224 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="rdfadict">
<h1 class="title">rdfadict</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Date:</th>
<td>$LastChangedDate$</td></tr>
<tr><th class="docinfo-name">Version:</th>
<td>$LastChangedRevision$</td></tr>
<tr><th class="docinfo-name">Author:</th>
<td>Nathan R. Yergler &lt;<a class="reference" href="mailto:nathan&#64;creativecommons.org">nathan&#64;creativecommons.org</a>&gt;</td></tr>
<tr><th class="docinfo-name">Organization:</th>
<td><a class="first reference" href="http://creativecommons.org">Creative Commons</a></td></tr>
<tr><th class="docinfo-name">Copyright:</th>
<td>2006, Nathan R. Yergler, Creative Commons;
licensed to the public under the <a class="reference" href="http://opensource.org/licenses/mit-license.php">MIT license</a>.</td></tr>
</tbody>
</table>
<div class="section">
<h1><a id="installation" name="installation">Installation</a></h1>
<p>rdfadict and its dependencies may be installed using <a class="reference" href="http://peak.telecommunity.com/DevCenter/EasyInstall">easy_install</a> (recommended)</p>
<pre class="literal-block">
$ easy_install rdfadict
</pre>
<p>or by using the standard distutils setup.py:</p>
<pre class="literal-block">
$ python setup.py install
</pre>
<p>If installing using setup.py, <a class="reference" href="http://codespeak.net/lxml">lxml</a>
will also need to be installed.</p>
</div>
<div class="section">
<h1><a id="usage" name="usage">Usage</a></h1>
<p><strong>rdfadict</strong> parses RDFa metadata encoded in HTML or XHTML documents.  It can
parse a block of text (as a string), or a URL.  For example, given the
following block of sample text:</p>
<pre class="literal-block">
&gt;&gt;&gt; rdfa_sample = &quot;&quot;&quot;
... &lt;h1 property=&quot;dc:title&quot;&gt;Vacation in the South of France&lt;/h1&gt;
... &lt;h2&gt;created
... by &lt;span property=&quot;dc:creator&quot;&gt;Mark Birbeck&lt;/span&gt;
... on &lt;span property=&quot;dc:date&quot; type=&quot;xsd:date&quot;
...          content=&quot;2006-01-02&quot;&gt;
...   January 2nd, 2006
...    &lt;/span&gt;
... &lt;/h2&gt;&quot;&quot;&quot;
</pre>
<p>We'll import <tt class="docutils literal"><span class="pre">pprint</span></tt> so our output is reasonably formatted:</p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; from pprint import pprint
</pre>
</blockquote>
<p>Triples can be extracted using <strong>rdfadict</strong>:</p>
<pre class="literal-block">
&gt;&gt;&gt; import rdfadict
&gt;&gt;&gt; base_uri = &quot;http://example.com/rdfadict/&quot;
&gt;&gt;&gt; parser = rdfadict.RdfaParser()
&gt;&gt;&gt; triples = parser.parsestring(rdfa_sample, base_uri)
</pre>
<p>We define the variable <tt class="docutils literal"><span class="pre">base_uri</span></tt> to let the parser know what URI assertions
without subjects apply to.</p>
<p>Based on our example text, we expect to get three triples back -- title,
creator and date.  Triple are indexed as a dictionary, first by subject,
then by predicate, finally retuning a <tt class="docutils literal"><span class="pre">list</span></tt> of objects.  For example,
a list of all subjects is retrieved using:</p>
<pre class="literal-block">
&gt;&gt;&gt; triples.keys()
['http://example.com/rdfadict/']
</pre>
<p>If assertions were made about resources other than the default, those URIs
would appear in this list.  We can verify how many predicates were found
for this subject by accessing the next level of the dictionary:</p>
<pre class="literal-block">
&gt;&gt;&gt; len(triples['http://example.com/rdfadict/'].keys())
3
</pre>
<p>Finally, we can retrieve the value for the title by fully dereferencing
the dictionary:</p>
<pre class="literal-block">
&gt;&gt;&gt; triples['http://example.com/rdfadict/'][
...     'http://purl.org/dc/elements/1.1/title']
['Vacation in the South of France']
</pre>
<p>Note that the objects are stored as a list by the default triple sink.</p>
<div class="section">
<h2><a id="triple-sinks" name="triple-sinks">Triple Sinks</a></h2>
</div>
</div>
<div class="section">
<h1><a id="limitations-and-known-issues" name="limitations-and-known-issues">Limitations and Known Issues</a></h1>
<p><strong>rdfadict</strong> currently does not implement the following areas properly:</p>
<ul class="simple">
<li>Namespaces are expanded, but the triples passed to the sink are fully
qualifed.  The sink should receive some notification of namespaces
(or be able to assert whether it wants to have shortened or fully
qualified triples URIs passed in).</li>
<li>The <tt class="docutils literal"><span class="pre">class</span></tt> attribute (used to make <tt class="docutils literal"><span class="pre">rdf:type</span></tt> assertions) is not
parsed.</li>
<li>The <tt class="docutils literal"><span class="pre">type</span></tt> attribute (used to assert the datatype) is not implemented.</li>
</ul>
</div>
</div>
</body>
</html>
